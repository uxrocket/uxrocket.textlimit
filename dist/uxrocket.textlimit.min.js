/*! UX Rocket Textlimit 
 *  Textlimit and remaining chars 
 *  @author Bilal Cinarli <bcinarli@gmail.com> (http://bcinarli.com/) 
 *  @version 1.0.0 
 *  @build Thu Sep 24 2015 19:23:49 GMT+0300 (EEST) 
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(t){"use strict";var i,e=1,s="uxrTextlimit",n={maxLength:0,remainingWrap:!1,remainingText:"Remaining Characters",remaining:".remaining",visible:!0,onReady:!1,onLimit:!1,onUpdate:!1,onRemove:!1},a={prefix:"uxr-",rocket:"uxRocket",data:s,name:"textlimit",wrap:"uxr-plugin-wrap",classes:{wrap:"wrap",ready:"ready",remaining:"remaining",hideremaining:"hide-remaining"}},o=function(i,a,o){this._instance=e,this._name=s,this._defaults=n,this.el=i,this.$el=t(i),this.selector=o,this.options=t.extend(!0,{},n,a,this.$el.data()),this.maxLength=parseInt(this.$el.attr("maxlength"))||this.options.maxLength,e++,this.init()};o.prototype.init=function(){var t=this.$el.data(a.rocket)||{};t[a.data]={hasWrapper:!1,ready:r.getClassname("ready"),selector:this.selector,options:this.options},this.$el.data(a.rocket,t),this.setLayout(),this.$el.addClass(r.getClassname("ready")),this.emitEvent("ready"),this.bindUIActions()},o.prototype.handleClasses=function(){this.classList=this.$el.context.className.replace(r.getClassname("ready"),""),"."===this.selector.charAt(0)&&(this.classList=this.classList.replace(this.selector.substr(1),"")),this.options.visible||(this.classList+=r.getClassname("hideremaining")+" "),this.classList+=a.wrap+" "+r.getClassname("wrap")+" "+r.getClassname("wrap")+"-"+this._instance,this.classList=t.trim(this.classList)},o.prototype.handleRemaining=function(){var t=this.$el.siblings(this.options.remaining),i=this.maxLength-this.$el.val().length;0>i&&(i=0),0==this.maxLength&&(i=""),t.length<1?this.$el.after('<span title="'+this.options.remainingText+'" class="'+r.getClassname("remaining")+" "+this.options.remaining.substring(1,this.options.remaining.length)+'">'+i+"</span>"):t.addClass(r.getClassname("remaining")).attr("title",this.options.remainingText).text(i)},o.prototype.handleWrapper=function(){this.$el.parent().is("."+a.wrap)?this.$el.parent().addClass(this.classList):this.$el.siblings("."+r.getClassname("remaining")).andSelf().wrapAll('<span class="'+this.classList+'"></span>')},o.prototype.setLayout=function(){this.handleClasses(),this.handleRemaining(),this.handleWrapper()},o.prototype.bindUIActions=function(){},o.prototype.onReady=function(){r.callback(this.options.onReady)},o.prototype.onLimit=function(){r.callback(this.options.onReady)},o.prototype.onUpdate=function(){r.callback(this.options.onReady)},o.prototype.onRemove=function(){r.callback(this.options.onReady)},o.prototype.emitEvent=function(t){this.$el.trigger("uxr"+t)};var r={callback:function(t){if("function"==typeof t)t.apply(this);else if(t!==!1){for(var i=/([a-zA-Z._$0-9]+)(\(?(.*)?\))?/.exec(t),e=i[1].split("."),s=i[3]?i[3]:"",n=e.pop(),a=e[0]?window[e[0]]:window,o=1;o<e.length;o++)a=a[e[o]];return a[n](s)}},getStringVariable:function(t){var i;if(t.indexOf(".")>-1){for(var e=t.split("."),s=window[e[0]],n=1;n<e.length;n++)s=s[e[n]];i=s}else i=window[t];return i},getClassname:function(t){return a.prefix+a.name+"-"+a.classes[t]}};i=t.fn.textlimit=t.fn.uxrtextlimit=t.uxrtextlimit=function(i){var e=this.selector;return this.each(function(){t.data(this,a.data)||t.data(this,a.data,new o(this,i,e))})},i.version="2.0.2",i.settings=n,i.namespace=a});